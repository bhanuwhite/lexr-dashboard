<div class="content-inner">
  <div class="px-4 pb-3 Categories">
    <div class="container-fluid">
      <div class="row">
        <div class="col-lg-7">
          <div class="card my-4 p-3 border-none" style="border-radius: 20px">
            <div class="d-flex justify-content-between flex-wrap mb-3">
              <div class="text-black fw-500 title">Sentiment Performance</div>
              <div class="d-flex gap-2 dropdown-div">
                <p-dropdown
                  optionLabel="year"
                  [options]="formattedYears"
                  (onChange)="getByYearData($event)"
                ></p-dropdown>
              </div>
            </div>
            <p-chart
              type="bar"
              [data]="data"
              [options]="bargraphData"
            ></p-chart>
          </div>
        </div>
        <div class="col-lg-5">
          <div class="card my-4 p-3 border-none" style="border-radius: 20px">
            <div class="d-flex justify-content-between summ_mobile mb-3">
              <div class="text-black fw-500 title">
                Summary and Recommendation
              </div>
              <div class="d-flex gap-2 dropdown-div">
                <p-dropdown
                  [options]="allCategories"
                  (onChange)="getsummaryAndRecomendations($event)"
                ></p-dropdown>
              </div>
            </div>
            <div
              class="fs-15 this_week d-flex justify-content-center"
              *ngIf="loading"
            >
              <p-progressSpinner ariaLabel="loading"></p-progressSpinner>
            </div>
            <div
              class="fs-15 this_week"
              *ngIf="summaryRecomendations && !loading"
            >
              <div class="my-3" style="font-size: 15px">
                <span class="this_week">{{
                  summaryRecomendations?.summary
                }}</span>
              </div>
              <hr />
              <div class="fs-15 this_week">
                <ul>
                  <li *ngFor="let item of summaryRecomendations.recomendation">
                    {{ item.point }}
                  </li>
                </ul>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="row">
        <div class="col-lg-7">
          <div
            class="card my-0 p-3 over_time border-none"
            style="border-radius: 20px"
          >
            <div class="d-flex flex-wrap justify-content-between mb-3">
              <div class="text-black fw-500 title">Category over Time</div>
              <div class="d-flex gap-2 dropdown-div">
                <p-dropdown
                  [options]="allCategoriesOverTime"
                  (onChange)="onSelectingCategory($event)"
                ></p-dropdown>
              </div>
            </div>
            <p-chart type="line" [data]="dataa" [options]="options"></p-chart>
          </div>
        </div>
        <div class="col-lg-5">
          <div
            class="card my-0 p-3 top_category border-none position-relative"
            style="border-radius: 20px"
          >
            <div class="d-flex justify-content-between mb-3">
              <div class="text-black fw-500 title">Top Category</div>
            </div>
            <div class="chart_title">
              <span class="square"></span> Number of reviews per category
            </div>
            <p-chart
              style="margin: 0 auto"
              type="doughnut"
              [data]="doughnutDataaa"
              [options]="doughnutOptions"
              [responsive]="true"
            ></p-chart>
            <!-- <p-chart  style="margin: 0 auto; width: 100%; height: 100%;" type="doughnut" [data]="dataaa" [options]="optionss" [responsive]="true"></p-chart> -->
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
