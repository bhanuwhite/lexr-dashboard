<div class="content-inner">
  <div class="overview px-4 pb-3">
    <div class="container-fluid">
      <div class="row">
        <div class="col-lg-4 overview_score_div">
          <div
            class="card my-4 py-3 px-3 active border-none"
            style="border-radius: 20px"
          >
            <div class="d-flex gap-4 align-items-center">
              <div
                class="flex align-items-center justify-content-center"
                style="
                  width: 1.5rem;
                  height: 1.5rem;
                  background-color: #ffffff85;
                  border-radius: 12px;
                  padding: 20px;
                "
              >
                <i class="pi pi-users text-white"></i>
              </div>
              <div class="text-white fw-500 title fs-25">Overall Score</div>
            </div>

            <div class="d-flex justify-content-between align-items-center">
              <div class="text-white Sentiment-score mt-3 fw-600 fs-25">
                <b> {{ meanSentimentScore * 100 }}/100</b>
              </div>
              <div class="text-white mt-3 rotameduim fs-17 fw-600">
                {{ reviewsCount }} Reviews
              </div>
            </div>

            <div class="d-flex justify-content-between">
              <div
                class="text-white fw-bold d-flex gap-2 align-items-center fs-15"
              >
                <i class="pi pi-thumbs-up-fill"></i>
                <div class="mt-4">
                  <span class="rotameduim fw-500 fs-17"
                    >{{
                      ((possitiveCount / reviewsCount) * 100).toFixed(0)
                    }}
                    %</span
                  >
                  <div class="rotameduim fw-500 fs-17">
                    {{ possitiveCount }}
                  </div>
                </div>
              </div>

              <div
                class="text-white fw-bold d-flex gap-2 align-items-center fs-15"
              >
                <i class="pi pi-thumbs-down-fill"></i>
                <div class="mt-4">
                  <span class="rotameduim fw-500 fs-17"
                    >{{
                      ((negativeCount / reviewsCount) * 100).toFixed(0)
                    }}%</span
                  >
                  <div class="rotameduim fw-500 fs-17">{{ negativeCount }}</div>
                </div>
              </div>
              <div
                class="text-white fw-bold d-flex gap-2 align-items-center fs-15"
              >
                <img
                  src="assets/image/neutral-white.png"
                  style="margin-top: -3px"
                  width="18"
                  alt=""
                />
                <div class="mt-4">
                  <span class="fw-500 rotameduim fs-17"
                    >{{ ((neutral / reviewsCount) * 100).toFixed(0) }}%</span
                  >
                  <div class="rotameduim fw-500 fs-17">{{ neutral }}</div>
                </div>
              </div>
            </div>
          </div>
        </div>

        <div class="col-lg-4 overview_score_div">
          <div
            class="card my-4 px-3 py-3 cursor-pointer border-none"
            [routerLink]="['worldmap']"
            style="border-radius: 20px"
          >
            <div class="d-flex gap-4 align-items-center">
              <div
                class="flex align-items-center justify-content-center"
                style="
                  width: 1.5rem;
                  height: 1.5rem;
                  background-color: #ebebeb;
                  border-radius: 12px;
                  padding: 20px;
                "
              >
                <i class="pi pi-flag-fill text-black"></i>
              </div>
              <div class="text-black fw-500 title">Countries</div>
            </div>
            <div class="text-black mt-4 mb-2 rotameduim fw-600 fs-25">
              {{ countryCount }}
            </div>

            <div class="d-flex mt-4 justify-content-between">
              <div
                class="text-black fw-bold d-flex gap-2 align-items-center fs-15"
              >
                <i class="pi pi-chart-line filled"></i>
                <span class="fw-500 fs-17 rotameduim">+12.7%</span>
              </div>

              <div
                class="text-black col-lg-6 d-flex gap-2 align-items-center fs-15"
              >
                <span class="rotameduim fs-17"
                  >+3
                  <span class="this_week" style="color: #a69d9d"
                    >this week</span
                  ></span
                >
              </div>
            </div>
          </div>
        </div>

        <div class="col-lg-4 overview_score_div">
          <div
            class="card my-4 px-3 py-3 cursor-pointer border-none"
            style="border-radius: 20px"
          >
            <div class="d-flex gap-4 align-items-center">
              <div
                class="flex align-items-center justify-content-center"
                style="
                  width: 1.5rem;
                  height: 1.5rem;
                  background-color: #ebebeb;
                  border-radius: 12px;
                  padding: 20px;
                "
              >
                <i class="pi pi-chart-line filled"></i>
              </div>
              <div class="text-black fw-500 title">Trends</div>
            </div>

            <div
              class="text-black mt-2 mb-1 rotameduim fw-600 fs-15 d-flex justify-content-end"
            >
              This week
            </div>

            <div *ngIf="!trendsLoader" class="d-flex justify-content-center">
              <p-progressSpinner></p-progressSpinner>
            </div>
            <div *ngIf="TrendsCategoryDetials">
              <div class="row m-1" *ngFor="let key of getTrendsApiKeys()">
                <div class="d-flex justify-content-between">
                  <div
                    class="text-black fw-bold col-lg-6 col-md-6 col-sm-6 d-flex gap-2 align-items-center fs-15"
                  >
                    <span class="fw-600 rotameduim fs-17">{{ key }}</span>
                  </div>
                  <div
                    class="text-black col-lg-6 col-md-6 col-sm-6 justify-content-end d-flex gap-2 align-items-center fs-15"
                  >
                    <span
                      class="fs-15 rotameduim"
                      [style.color]="
                        TrendsCategoryDetials[key].change_in_percentage < 0
                          ? 'red'
                          : 'green'
                      "
                      *ngIf="
                        TrendsCategoryDetials[key].change_in_percentage !== 'NA'
                      "
                    >
                      {{
                        TrendsCategoryDetials[key].change_in_percentage / 100
                      }}%
                    </span>
                    <span
                      class="fs-15 rotameduim"
                      style="color: grey"
                      *ngIf="
                        TrendsCategoryDetials[key].change_in_percentage === 'NA'
                      "
                    >
                      0%
                    </span>
                  </div>
                </div>
              </div>
              <div class="d-flex justify-content-end m-2">
                <a href="#" (click)="toggleCategories()">{{
                  showAllCategories ? "Show Less" : "View All"
                }}</a>
              </div>
            </div>
            <div *ngif="!TrendsCategoryDetials && !trendsLoader">
              No data Available
            </div>
          </div>
        </div>
      </div>
      <div class="row">
        <div class="col-lg-8">
          <app-graph-component
            title="Sentiment Performance"
          ></app-graph-component>
        </div>
        <div class="col-lg-4">
          <div
            class="card chart_card cursor-pointer border-none p-3"
            [routerLink]="['askanything']"
            style="border-radius: 20px"
          >
            <div class="ms-2 mb-2 fw-600 title">Recommendations</div>
            <div class="this_week fs-16 mb-1">
              <span class="mr-2">
                <b class="text-black" style="font-size: 17px"> 1.</b></span
              >Expand the breakfast menu to include a
              <b>wider variety of options</b>
              catering to different tastes and dietary needs.
            </div>
            <div class="this_week fs-16 mb-1">
              <span class="mr-2">
                <b class="text-black" style="font-size: 17px"> 2.</b></span
              >
              <b>Improve cleanliness</b> by regularly deep cleaning and
              maintaining areas like the bathroom and floor carpet to enhance
              guest experience.
            </div>
            <div class="this_week fs-16 mb-1 pb-5">
              <span class="mr-2">
                <b class="text-black" style="font-size: 17px"> 3.</b></span
              >Address the lack of late-night meal options and
              <b
                >the difficulty in accessing the hotel by offering late-night
                room service</b
              >
              and providing clearer directions or transportation services.
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
